<%= simple_form_for(@workshop) do |f| %>
  <%= f.error_notification %>

  <div class="form-inputs">
    <div class="clearfix">
      <div class="control-group pull-right">
        <%= image_tag @workshop.img_src(:medium), :class => "img-rounded" %>
        <div class="controls">
          <br/>
          <%= f.file_field :image %>
        </div>
      </div>
      <%= f.input :title, label: 'Title', input_html: {class: 'span6'} %>
      <% if admin_session? and @workshop.external %>
        <%= f.hidden_field :external %>

        <%= f.input :external_url, :wrapper => :append, :label => 'External URL' do %>
          <%= f.input_field :external_url %><span class="add-on"><i class="icon-external-link"></i></span>
        <% end %>

        <%= f.input :host_id, label: 'External Host', collection: User.where(:external => true), hint: %Q(Select an external host or #{link_to('create a new one', new_admin_user_path)}.) %>
      <% end %>
    </div>
    <%= f.input :description, as: :text, input_html: {:rows => "6", :'data-provide' => "markdown"} %>
  </div>

  <div class="form-actions">
    <%= f.button :submit, :class => "btn-primary" %>
  </div>
<% end %>
<%= render :partial => 'shared/markdown_a_la_carte' %>
<% ready_script do -%>
  $(":file").filestyle({
    input: false,
    buttonText: "Choose photo",
    icon: true 
  });
<% end %>
